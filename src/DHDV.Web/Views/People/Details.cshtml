@await Html.PartialAsync("_Breadcrumb", (("Gia phả","/People")))
@model DHDV.Web.ViewModels.PersonDetails
@{ ViewData["Title"]=Model?.Name??"Thành viên"; var avatar=Url.Content("~/img/avatar.png"); }
<section class="mx-auto" style="max-width:900px">
  <div class="d-flex align-items-center gap-3 mb-4">
    <img src="@avatar" alt="@Model.Name" class="person-avatar" />
    <div>
      <h2 class="mb-1">@Model.Name</h2>
      @if(Model.Generation!=null){<div class="text-muted">Đời @Model.Generation</div>}
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <div class="card p-3">
        <div class="fw-semibold mb-2">Cha mẹ</div>
        @if (Model.FatherId!=null){ <div>Cha: <a asp-action="Details" asp-route-id="@Model.FatherId">@Model.FatherName ?? "Xem"</a></div> }
        @if (Model.MotherId!=null){ <div>Mẹ: <a asp-action="Details" asp-route-id="@Model.MotherId">@Model.MotherName ?? "Xem"</a></div> }
      </div>
    </div>
    <div class="col-md-6">
      <div class="card p-3">
        <div class="fw-semibold mb-2">Con</div>
        @if (Model.Children?.Any()==true){
          <ul class="mb-0">
            @foreach (var c in Model.Children){ <li><a asp-action="Details" asp-route-id="@c.Id">@c.Name</a></li> }
          </ul>
        } else { <div class="text-muted">—</div> }
      </div>
    </div>
  </div>
</section>
